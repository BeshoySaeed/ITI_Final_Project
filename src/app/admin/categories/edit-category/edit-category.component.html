<div class="add-user-container">
  <h3 class="admin-page-title">Edit Category</h3>

  <div class="card">
    <form
      [formGroup]="editCategoryForm"
      (ngSubmit)="onSubmit()"
      class="formgrid grid w-full mt-3 mx-auto form"
    >
      <div class="col-12 mb-4 pr-0 md:pr-3">
        <div class="flex flex-column-reverse">
          <input
            id="name"
            type="text"
            pInputText
            [required]="true"
            [minlength]="4"
            formControlName="name"
            class="input p-2 border-round outline-none w-full"
          />
          <label for="name" class="block mb-2">Name *</label>
        </div>

        <div
          class="error-message"
          *ngIf="
            editCategoryForm.controls['name'].touched &&
            editCategoryForm.controls['name'].invalid
          "
        >
          <small
            class="block"
            *ngIf="editCategoryForm.controls['name'].errors?.['required']"
          >
            Category name is required
          </small>
          <small
            class="block"
            *ngIf="editCategoryForm.controls['name'].errors?.['minlength']"
          >
            Category name is must be more than 3 characters
          </small>
        </div>
      </div>

      <div class="col-12 mb-4 pr-0 md:pr-3">
        <div class="flex flex-column-reverse">
          <p-fileUpload
            name="image"
            url="./upload"
            accept="image/*"
            (onSelect)="onSelect($event)"
            (onRemove)="onRemove()"
            [showUploadButton]="false"
            [showCancelButton]="false"
          ></p-fileUpload>
          <label for="image" class="block mb-2">Image *</label>
        </div>

        <div
          class="error-message"
          *ngIf="
            editCategoryForm.controls['image'].touched &&
            editCategoryForm.controls['image'].invalid
          "
        >
          <small
            class="block"
            *ngIf="editCategoryForm.controls['image'].errors?.['required']"
          >
            Category image is required
          </small>
        </div>
      </div>

      <button
        type="submit"
        class="primary-button w-5 mx-auto my-3"
        [disabled]="editCategoryForm.invalid"
      >
        Edit
      </button>
    </form>
  </div>
</div>
